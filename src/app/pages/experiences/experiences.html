<!-- PAGE CONTENT -->
<div class="max-w-5xl mx-auto px-4 py-8 space-y-6">
  <div class="flex justify-between items-center">
    <h1 class="text-xl font-semibold">Interview Experiences</h1>
    <button (click)="openShareDialog(true)" class="btn btn-primary">Add Experience</button>
  </div>

  <section class="space-y-6">
    <div *ngIf="isLoading" class="text-center py-10">
      <span class="loading loading-spinner"></span>
    </div>
    <div *ngIf="!isLoading && experiences.length === 0" class="text-center py-10">
      No experiences found.
    </div>

    <app-experience-card 
      *ngFor="let exp of experiences" 
      [experience]="exp"
      (viewDetails)="viewExperienceDetails($event)">
    </app-experience-card>

    <!-- âœ… Correct place for Pagination Controls -->
    <div *ngIf="totalPages > 1 && !isLoading" class="flex justify-center items-center gap-4 pt-6">
      <button 
        class="btn btn-outline"
        [disabled]="currentPage === 0"
        (click)="goToPreviousPage()">
        Previous
      </button>

      <span class="font-medium">
        Page {{ currentPage + 1 }} of {{ totalPages }}
      </span>

      <button 
        class="btn btn-outline"
        [disabled]="currentPage >= totalPages - 1"
        (click)="goToNextPage()">
        Next
      </button>
    </div>
  </section>
</div>

<!-- OUTSIDE main container (global modals) -->
<ng-container *ngIf="showShareDialog">
  <div class="modal modal-open fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
    <div class="modal-box w-11/12 max-w-3xl relative">
      <app-share-experience
        (close)="openShareDialog(false)"
        (experienceSubmitted)="onExperienceSubmitted()">
      </app-share-experience>
    </div>
  </div>
</ng-container>

<ng-container *ngIf="selectedExperience">
  <div class="modal modal-open fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
    <div class="modal-box w-11/12 max-w-2xl relative">
      <app-experience-details 
        [experience]="selectedExperience" 
        (close)="closeDetailsModal()">
      </app-experience-details>
    </div>
  </div>
</ng-container>
